{"version":3,"sources":["webpack:///chat_group.js","webpack:///./src/chat_group.js","webpack:///./src/Chat/components/GroupComp.js","webpack:///./src/Chat/reducers/GroupRed.js"],"names":["webpackJsonp","353","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactRedux","_component","_GroupComp","_GroupComp2","_AuthRed","_AuthRed2","_GroupRed","_GroupRed2","_configureStore","store","configureStore","auth","chatGroup","Comp","layout","GroupComp","render","createElement","Provider","document","getElementById","354","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_socket","_socket2","_ChatAct","_UserLoginComp","_UserLoginComp2","_MsgListComp","_MsgListComp2","_MsgFormComp","_MsgFormComp2","ChatPersComp","_React$Component","this","_this","getPrototypeOf","io","window","location","host","on","r","console","log","dispatch","joinGrp","message","e","toString","localStorage","removeItem","err","error","msg","p","token","rId","roomId","emit","alertOpts","fetch_status","className","text","fetch_error","Alert","opts","users","messages","emitMessage","bind","React","Component","mapStateToProps","state","connect","355","_lodash","locals","initState","chatList","action","type","push"],"mappings":"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","file":"chat_group.js","sourcesContent":["webpackJsonp([8],{\n\n/***/ 353:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(2);\n\n__webpack_require__(10);\n\n__webpack_require__(11);\n\nvar _component = __webpack_require__(4);\n\nvar _GroupComp = __webpack_require__(354);\n\nvar _GroupComp2 = _interopRequireDefault(_GroupComp);\n\nvar _AuthRed = __webpack_require__(12);\n\nvar _AuthRed2 = _interopRequireDefault(_AuthRed);\n\nvar _GroupRed = __webpack_require__(355);\n\nvar _GroupRed2 = _interopRequireDefault(_GroupRed);\n\nvar _configureStore = __webpack_require__(18);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar store = (0, _configureStore.configureStore)({\n\tauth: _AuthRed2.default,\n\tchatGroup: _GroupRed2.default\n});\n\nvar Comp = (0, _component.layout)(_GroupComp2.default, true);\n(0, _reactDom.render)(_react2.default.createElement(\n\t_reactRedux.Provider,\n\t{ store: store },\n\t_react2.default.createElement(Comp, null)\n), document.getElementById('root'));\n\n/***/ }),\n\n/***/ 354:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(2);\n\nvar _socket = __webpack_require__(133);\n\nvar _socket2 = _interopRequireDefault(_socket);\n\nvar _component = __webpack_require__(4);\n\nvar _ChatAct = __webpack_require__(146);\n\nvar _UserLoginComp = __webpack_require__(49);\n\nvar _UserLoginComp2 = _interopRequireDefault(_UserLoginComp);\n\nvar _MsgListComp = __webpack_require__(147);\n\nvar _MsgListComp2 = _interopRequireDefault(_MsgListComp);\n\nvar _MsgFormComp = __webpack_require__(148);\n\nvar _MsgFormComp2 = _interopRequireDefault(_MsgFormComp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChatPersComp = function (_React$Component) {\n\t_inherits(ChatPersComp, _React$Component);\n\n\tfunction ChatPersComp(props) {\n\t\t_classCallCheck(this, ChatPersComp);\n\n\t\tvar _this = _possibleConstructorReturn(this, (ChatPersComp.__proto__ || Object.getPrototypeOf(ChatPersComp)).call(this, props));\n\n\t\t_this.io = (0, _socket2.default)(window.location.host);\n\n\t\t_this.io.on('joinGroup', function (r) {\n\t\t\tconsole.log('joinGroup ', r);\n\n\t\t\t_this.props.dispatch((0, _ChatAct.joinGrp)(r));\n\t\t});\n\n\t\t_this.io.on('message', function (r) {\n\t\t\t_this.props.dispatch((0, _ChatAct.message)(r));\n\t\t});\n\n\t\t_this.io.on('err', function (e) {\n\t\t\tif (e && e.toString() === '403') {\n\t\t\t\tlocalStorage.removeItem('user');\n\t\t\t\treturn window.location = '/login';\n\t\t\t}\n\t\t\t_this.props.dispatch((0, _ChatAct.err)({\n\t\t\t\terror: e\n\t\t\t}));\n\t\t});\n\t\treturn _this;\n\t}\n\n\t_createClass(ChatPersComp, [{\n\t\tkey: 'emitMessage',\n\t\tvalue: function emitMessage(msg) {\n\t\t\tvar p = {\n\t\t\t\ttoken: this.props.auth.token,\n\t\t\t\t// uId: this.props.chatGroup.userId,\n\t\t\t\trId: this.props.chatGroup.roomId,\n\t\t\t\tmsg: msg\n\t\t\t};\n\t\t\tthis.io.emit('message', p);\n\t\t}\n\t}, {\n\t\tkey: 'componentWillMount',\n\t\tvalue: function componentWillMount() {\n\t\t\tvar p = {\n\t\t\t\ttoken: this.props.auth.token,\n\t\t\t\troomId: this.props.chatGroup.roomId\n\t\t\t};\n\t\t\tconsole.log('emit ', p);\n\n\t\t\tthis.io.emit('joinGroup', p);\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar alertOpts = null,\n\t\t\t    users = null,\n\t\t\t    messages = null;\n\n\t\t\tif (this.props.chatGroup.fetch_status === 'error') {\n\t\t\t\talertOpts = {\n\t\t\t\t\tclassName: 'danger',\n\t\t\t\t\ttext: this.props.chatGroup.fetch_error\n\t\t\t\t};\n\t\t\t} else if (this.props.chatGroup.fetch_status === 'send') {\n\t\t\t\talertOpts = {\n\t\t\t\t\tclassName: 'info',\n\t\t\t\t\ttext: 'Loading, please wait'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// col-md-4\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(_component.Alert, { opts: alertOpts }),\n\t\t\t\t_react2.default.createElement(_UserLoginComp2.default, { users: this.props.chatGroup.users }),\n\t\t\t\t_react2.default.createElement('br', null),\n\t\t\t\t_react2.default.createElement(_MsgListComp2.default, { messages: this.props.chatGroup.messages }),\n\t\t\t\t_react2.default.createElement(_MsgFormComp2.default, { emitMessage: this.emitMessage.bind(this) })\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ChatPersComp;\n}(_react2.default.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn _extends({}, state);\n};\nChatPersComp = (0, _reactRedux.connect)(mapStateToProps)(ChatPersComp);\n\nexports.default = ChatPersComp;\n\n/***/ }),\n\n/***/ 355:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _lodash = __webpack_require__(30);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar roomId = window.locals.roomId || null;\n\nvar initState = {\n\troomId: roomId,\n\t// userId: null,\n\tusers: [],\n\tmessages: [],\n\tfetch_status: null,\n\tfetch_error: null\n};\nvar chatList = function chatList() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n\tvar action = arguments[1];\n\n\tstate = _extends({}, state);\n\tswitch (action.type) {\n\t\tcase 'JOIN_GRP_SUCCESS':\n\t\t\tstate.fetch_status = 'success';\n\t\t\t// state.roomId = action.roomId;\n\t\t\tstate.users = action.users;\n\t\t\tstate.messages = action.messages;\n\t\t\treturn state;\n\t\tcase 'MSG_SUCCESS':\n\t\t\tstate.fetch_status = 'success';\n\t\t\taction = _extends({}, action);\n\t\t\tdelete action.type;\n\t\t\tstate.messages.push(action);\n\t\t\treturn state;\n\t\tcase 'CHAT_ERROR':\n\t\t\tstate.fetch_status = 'error';\n\t\t\tstate.fetch_error = action.error;\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexports.default = chatList;\n\n/***/ })\n\n},[353]);\n\n\n// WEBPACK FOOTER //\n// chat_group.js","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles/index.scss'\n\nimport {layout} from './helpers/component'\nimport GroupComp from './Chat/components/GroupComp'\n\nimport auth from './Auth/AuthRed'\nimport chatGroup from './Chat/reducers/GroupRed'\n\nimport {configureStore} from './helpers/configureStore'\n\nlet store = configureStore({\n\tauth: auth,\n\tchatGroup: chatGroup,\n});\n\nlet Comp = layout(GroupComp, true);\nrender(\n\t<Provider store={store}>\n\t\t<Comp />\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n\n\n// WEBPACK FOOTER //\n// ./src/chat_group.js","import React from 'react'\nimport { connect } from 'react-redux'\nimport client from 'socket.io-client'\n\nimport {Alert} from '../../helpers/component'\nimport {joinGrp, err, message} from '../ChatAct'\nimport UserLoginComp from '../../User/UserLoginComp'\nimport MsgListComp from './MsgListComp'\nimport MsgFormComp from './MsgFormComp'\n\nclass ChatPersComp extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\t\n\t\tthis.io = client(window.location.host);\n\n\t\tthis.io.on('joinGroup', (r) => {\n            console.log('joinGroup ', r);\n\n\t\t\tthis.props.dispatch(joinGrp(r));\n\t\t});\n\n\t\tthis.io.on('message', (r) => {\n\t\t\tthis.props.dispatch(message(r));\n\t\t});\n\n\t\tthis.io.on('err', (e) => {\n\t\t\tif (e && e.toString() === '403') {\n\t\t\t\tlocalStorage.removeItem('user');\n\t\t\t\treturn window.location = '/login'\n\t\t\t}\n\t\t\tthis.props.dispatch(err({\n\t\t\t\terror: e,\n\t\t\t}));\n\t\t});\n\t}\n\temitMessage (msg) {\t\t\n\t\tlet p = {\n\t\t\ttoken: this.props.auth.token,\n\t\t\t// uId: this.props.chatGroup.userId,\n\t\t\trId: this.props.chatGroup.roomId,\n\t\t\tmsg: msg,\n\t\t}\n\t\tthis.io.emit('message', p);\n\t}\n\tcomponentWillMount () {\n\t\tlet p = {\n\t\t\ttoken: this.props.auth.token,\n\t\t\troomId: this.props.chatGroup.roomId,\n        }\n        console.log('emit ', p);\n\n\t\tthis.io.emit('joinGroup', p);\n\t}\n\n\trender () {\n\t\tlet alertOpts = null,\n\t\t\tusers = null,\n\t\t\tmessages = null;\n\t\n\t\tif (\n\t\t\tthis.props.chatGroup.fetch_status === 'error'\n\t\t) {\n\t\t\talertOpts = {\n\t\t\t\tclassName: 'danger',\n\t\t\t\ttext: this.props.chatGroup.fetch_error\n\t\t\t}\n\t\t} else if (\n\t\t\tthis.props.chatGroup.fetch_status === 'send'\n\t\t) {\n\t\t\talertOpts = {\n\t\t\t\tclassName: 'info',\n\t\t\t\ttext: 'Loading, please wait',\n\t\t\t}\n\t\t}\n\n\n\t\t// col-md-4\n\t\treturn <div>\n\t\t\t<Alert opts={alertOpts} />\n\t\t\t<UserLoginComp users={this.props.chatGroup.users} />\n\t\t\t<br />\n\t\t\t<MsgListComp messages={this.props.chatGroup.messages} />\n\t\t\t<MsgFormComp emitMessage={::this.emitMessage} />\n\t\t</div>\n\t\t\n\t}\n}\nconst mapStateToProps = (state) => {\n\treturn {...state}\n}\nChatPersComp = connect(mapStateToProps)(ChatPersComp)\n\nexport default ChatPersComp\n\n\n// WEBPACK FOOTER //\n// ./src/Chat/components/GroupComp.js","import _ from 'lodash';\nlet roomId = window.locals.roomId || null;\n\nlet initState = {\n\troomId: roomId,\n\t// userId: null,\n\tusers: [],\n\tmessages: [],\n\tfetch_status: null,\n\tfetch_error: null,\n};\nconst chatList = (state = initState, action) => {\n\tstate = {...state};\n\tswitch (action.type) {\n\t\tcase 'JOIN_GRP_SUCCESS':\n\t\t\tstate.fetch_status = 'success';\n\t\t\t// state.roomId = action.roomId;\n\t\t\tstate.users = action.users;\n\t\t\tstate.messages = action.messages;\n\t\t\treturn state;\n\t\tcase 'MSG_SUCCESS':\n\t\t\tstate.fetch_status = 'success';\n\t\t\taction = {...action};\n\t\t\tdelete action.type;\n\t\t\tstate.messages.push(action);\n\t\t\treturn state;\n\t\tcase 'CHAT_ERROR':\n\t\t\tstate.fetch_status = 'error';\n\t\t\tstate.fetch_error = action.error;\n\t\t\treturn state;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default chatList\n\n\n// WEBPACK FOOTER //\n// ./src/Chat/reducers/GroupRed.js"],"sourceRoot":""}