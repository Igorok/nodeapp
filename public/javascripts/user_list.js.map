{"version":3,"sources":["webpack:///user_list.js","webpack:///./src/user_list.js","webpack:///./src/User/ListComp.js","webpack:///./src/User/ListRed.js"],"names":["webpackJsonp","313","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_react","_react2","_reactDom","_reactRedux","_component","_ListComp","_ListComp2","_AuthRed","_AuthRed2","_ListRed","_ListRed2","_configureStore","store","configureStore","auth","userList","Comp","layout","ListComp","render","createElement","Provider","document","getElementById","314","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_action","_UserLoginComp","_UserLoginComp2","UserListItem","_React$Component","this","getPrototypeOf","apply","online","className","_id","friend","str","data-friend","data-id","onClick","updateFriend","bind","e","preventDefault","dispatch","api","type","fetch","dataset","id","users","item","getFrButton","href","React","Component","UserListComp","_React$Component2","_this3","alertOpts","fetch_status","text","fetch_error","list","map","val","Alert","opts","mapStateToProps","state","connect","315","_toConsumableArray","arr","Array","isArray","arr2","from","_lodash","_lodash2","initState","action","data","error","frList","_","find"],"mappings":"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","file":"user_list.js","sourcesContent":["webpackJsonp([4],{\n\n/***/ 313:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(8);\n\nvar _reactRedux = __webpack_require__(2);\n\n__webpack_require__(10);\n\n__webpack_require__(11);\n\nvar _component = __webpack_require__(4);\n\nvar _ListComp = __webpack_require__(314);\n\nvar _ListComp2 = _interopRequireDefault(_ListComp);\n\nvar _AuthRed = __webpack_require__(12);\n\nvar _AuthRed2 = _interopRequireDefault(_AuthRed);\n\nvar _ListRed = __webpack_require__(315);\n\nvar _ListRed2 = _interopRequireDefault(_ListRed);\n\nvar _configureStore = __webpack_require__(18);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar store = (0, _configureStore.configureStore)({\n\tauth: _AuthRed2.default,\n\tuserList: _ListRed2.default\n});\n\nvar Comp = (0, _component.layout)(_ListComp2.default, true);\n(0, _reactDom.render)(_react2.default.createElement(\n\t_reactRedux.Provider,\n\t{ store: store },\n\t_react2.default.createElement(Comp, null)\n), document.getElementById('root'));\n\n/***/ }),\n\n/***/ 314:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRedux = __webpack_require__(2);\n\nvar _action = __webpack_require__(13);\n\nvar _component = __webpack_require__(4);\n\nvar _UserLoginComp = __webpack_require__(49);\n\nvar _UserLoginComp2 = _interopRequireDefault(_UserLoginComp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar UserListItem = function (_React$Component) {\n\t_inherits(UserListItem, _React$Component);\n\n\tfunction UserListItem() {\n\t\t_classCallCheck(this, UserListItem);\n\n\t\treturn _possibleConstructorReturn(this, (UserListItem.__proto__ || Object.getPrototypeOf(UserListItem)).apply(this, arguments));\n\t}\n\n\t_createClass(UserListItem, [{\n\t\tkey: 'getLabel',\n\t\tvalue: function getLabel(online) {\n\t\t\tvar lbl = '';\n\t\t\tif (online) {\n\t\t\t\tlbl = _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ className: 'label label-success' },\n\t\t\t\t\t'Online'\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tlbl = _react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ className: 'label label-default' },\n\t\t\t\t\t'Offline'\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn lbl;\n\t\t}\n\t}, {\n\t\tkey: 'getFrButton',\n\t\tvalue: function getFrButton(_id, friend) {\n\t\t\tvar str = 'Add';\n\t\t\tif (friend === 'fr') {\n\t\t\t\tstr = 'Remove';\n\t\t\t} else if (friend === 'fr_req') {\n\t\t\t\tstr = 'Approve';\n\t\t\t} else if (friend === 'my_fr_req') {\n\t\t\t\tstr = 'Wait of approve';\n\t\t\t}\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'button',\n\t\t\t\t{\n\t\t\t\t\tclassName: 'btn btn-default',\n\t\t\t\t\t'data-friend': friend,\n\t\t\t\t\t'data-id': _id,\n\t\t\t\t\tonClick: this.updateFriend.bind(this)\n\t\t\t\t},\n\t\t\t\tstr\n\t\t\t);\n\t\t}\n\t}, {\n\t\tkey: 'updateFriend',\n\t\tvalue: function updateFriend(e) {\n\t\t\te.preventDefault();\n\t\t\tthis.props.dispatch((0, _action.api)({\n\t\t\t\ttype: 'FRIEND_UPDATE',\n\t\t\t\tfetch: 'user.updateFriend',\n\t\t\t\t_id: e.target.dataset.id,\n\t\t\t\tfriend: e.target.dataset.friend\n\t\t\t}));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'tr',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'td',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(_UserLoginComp2.default, { users: [this.props.item] })\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'td',\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.getFrButton(this.props.item._id, this.props.item.friend)\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'td',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'a',\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tclassName: 'btn btn-default',\n\t\t\t\t\t\t\thref: '/chat-personal/' + this.props.item._id\n\t\t\t\t\t\t},\n\t\t\t\t\t\t_react2.default.createElement('span', { className: 'glyphicon glyphicon-envelope' })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn UserListItem;\n}(_react2.default.Component);\n\nvar UserListComp = function (_React$Component2) {\n\t_inherits(UserListComp, _React$Component2);\n\n\tfunction UserListComp() {\n\t\t_classCallCheck(this, UserListComp);\n\n\t\treturn _possibleConstructorReturn(this, (UserListComp.__proto__ || Object.getPrototypeOf(UserListComp)).apply(this, arguments));\n\t}\n\n\t_createClass(UserListComp, [{\n\t\tkey: 'componentWillMount',\n\t\tvalue: function componentWillMount() {\n\t\t\tthis.props.dispatch((0, _action.api)({\n\t\t\t\ttype: 'USER_LIST',\n\t\t\t\tfetch: 'user.getUserList'\n\t\t\t}));\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _this3 = this;\n\n\t\t\tvar alertOpts = null,\n\t\t\t    users = null;\n\n\t\t\tif (this.props.fetch_status === 'error' || this.props.fetch_status === 'error_friend') {\n\t\t\t\talertOpts = {\n\t\t\t\t\tclassName: 'danger',\n\t\t\t\t\ttext: this.props.fetch_error\n\t\t\t\t};\n\t\t\t} else if (this.props.fetch_status === 'send') {\n\t\t\t\talertOpts = {\n\t\t\t\t\tclassName: 'info',\n\t\t\t\t\ttext: 'Loading, please wait'\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.props.list.length) {\n\t\t\t\tusers = this.props.list.map(function (val) {\n\t\t\t\t\treturn _react2.default.createElement(UserListItem, { item: val, key: val._id, dispatch: _this3.props.dispatch });\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// col-md-4\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\t_react2.default.createElement(_component.Alert, { opts: alertOpts }),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'table',\n\t\t\t\t\t{ className: 'table table-striped table-hover' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'tbody',\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tusers\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn UserListComp;\n}(_react2.default.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n\treturn _extends({}, state.userList);\n};\nUserListComp = (0, _reactRedux.connect)(mapStateToProps)(UserListComp);\n\nexports.default = UserListComp;\n\n/***/ }),\n\n/***/ 315:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _lodash = __webpack_require__(30);\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar initState = {\n\tlist: [],\n\tfetch_status: null,\n\tfetch_error: null\n};\nvar userList = function userList() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase 'USER_LIST_SEND':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'send',\n\t\t\t\tlist: [].concat(_toConsumableArray(state.list))\n\t\t\t};\n\t\tcase 'USER_LIST_SUCCESS':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'success',\n\t\t\t\tlist: [].concat(_toConsumableArray(action.data))\n\t\t\t};\n\t\tcase 'USER_LIST_ERROR':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'error',\n\t\t\t\tfetch_error: action.error,\n\t\t\t\tlist: []\n\t\t\t};\n\n\t\tcase 'FRIEND_UPDATE_SEND':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'send_friend',\n\t\t\t\tlist: [].concat(_toConsumableArray(state.list))\n\t\t\t};\n\t\tcase 'FRIEND_UPDATE_SUCCESS':\n\t\t\tvar frList = [].concat(_toConsumableArray(state.list));\n\n\t\t\tif (action.data && action.data._id) {\n\t\t\t\tvar fr = _lodash2.default.find(frList, function (val) {\n\t\t\t\t\treturn val._id === action.data._id;\n\t\t\t\t});\n\t\t\t\tfr.friend = action.data.friend;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tfetch_status: 'success_friend',\n\t\t\t\tlist: frList\n\t\t\t};\n\t\tcase 'FRIEND_UPDATE_ERROR':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'error_friend',\n\t\t\t\tfetch_error: action.error,\n\t\t\t\tlist: []\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n};\n\nexports.default = userList;\n\n/***/ })\n\n},[313]);\n\n\n// WEBPACK FOOTER //\n// user_list.js","import React from 'react'\nimport { render } from 'react-dom'\nimport { Provider } from 'react-redux'\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './styles/index.scss'\n\nimport {layout} from './helpers/component'\nimport ListComp from './User/ListComp'\n\nimport auth from './Auth/AuthRed'\nimport userList from './User/ListRed'\n\nimport {configureStore} from './helpers/configureStore'\n\nlet store = configureStore({\n\tauth: auth,\n\tuserList: userList,\n});\n\nlet Comp = layout(ListComp, true);\nrender(\n\t<Provider store={store}>\n\t\t<Comp />\n\t</Provider>,\n\tdocument.getElementById('root')\n)\n\n\n// WEBPACK FOOTER //\n// ./src/user_list.js","import React from 'react'\nimport { connect } from 'react-redux'\nimport {api} from '../helpers/action'\nimport {Alert} from '../helpers/component'\n\nimport UserLoginComp from './UserLoginComp'\n\n\nclass UserListItem extends React.Component {\n\tgetLabel (online) {\n\t\tlet lbl = '';\n\t\tif (online) {\n\t\t\tlbl = <span className=\"label label-success\">Online</span>;\n\t\t} else {\n\t\t\tlbl = <span className=\"label label-default\">Offline</span>;\n\t\t}\n\t\treturn lbl;\n\t}\n\tgetFrButton (_id, friend) {\n\t\tlet str = 'Add';\n\t\tif (friend === 'fr') {\n\t\t\tstr = 'Remove'\n\t\t} else if (friend === 'fr_req') {\n\t\t\tstr = 'Approve'\n\t\t} else if (friend === 'my_fr_req') {\n\t\t\tstr = 'Wait of approve'\n\t\t}\n\t\treturn <button \n\t\t\tclassName=\"btn btn-default\" \n\t\t\tdata-friend={friend} \n\t\t\tdata-id={_id}\n\t\t\tonClick={::this.updateFriend}\n\t\t>{str}</button>\n\t}\n\tupdateFriend (e) {\n\t\te.preventDefault();\n\t\tthis.props.dispatch(api({\n\t\t\ttype: 'FRIEND_UPDATE',\n\t\t\tfetch: 'user.updateFriend',\n\t\t\t_id: e.target.dataset.id,\n\t\t\tfriend: e.target.dataset.friend,\n\t\t}));\n\t}\n\trender () {\n\t\treturn <tr>\n\t\t\t<td><UserLoginComp users={[this.props.item]}/></td>\n\t\t\t<td>{this.getFrButton(this.props.item._id, this.props.item.friend)}</td>\n\t\t\t<td>\n\t\t\t\t<a \n\t\t\t\t\tclassName=\"btn btn-default\"\n\t\t\t\t\thref={'/chat-personal/' + this.props.item._id}\n\t\t\t\t>\n\t\t\t\t\t<span className='glyphicon glyphicon-envelope'></span>\n\t\t\t\t</a>\n\t\t\t</td>\n\t\t</tr>\n\t}\n}\n\nclass UserListComp extends React.Component {\n\tcomponentWillMount () {\n\t\tthis.props.dispatch(api({\n\t\t\ttype: 'USER_LIST',\n\t\t\tfetch: 'user.getUserList',\n\t\t}));\n\t}\n\n\trender () {\n\t\tlet alertOpts = null,\n\t\t\tusers = null;\n\t\n\t\tif (\n\t\t\tthis.props.fetch_status === 'error' ||\n\t\t\tthis.props.fetch_status === 'error_friend'\n\t\t) {\n\t\t\talertOpts = {\n\t\t\t\tclassName: 'danger',\n\t\t\t\ttext: this.props.fetch_error\n\t\t\t}\n\t\t} else if (\n\t\t\tthis.props.fetch_status === 'send'\n\t\t) {\n\t\t\talertOpts = {\n\t\t\t\tclassName: 'info',\n\t\t\t\ttext: 'Loading, please wait',\n\t\t\t}\n\t\t}\n\n\t\tif (this.props.list.length) {\n\t\t\tusers = this.props.list.map((val) => {\n\t\t\t\treturn <UserListItem item={val} key={val._id} dispatch={this.props.dispatch} />\n\t\t\t});\n\t\t}\n\n\t\t// col-md-4\n\t\treturn <div>\n\t\t\t<Alert opts={alertOpts} />\n\t\t\t<table className=\"table table-striped table-hover\">\n\t\t\t\t<tbody>{users}</tbody>\n\t\t\t</table>\n\t\t</div>\n\t\t\n\t}\n}\nconst mapStateToProps = (state) => {\n\treturn {...state.userList}\n}\nUserListComp = connect(mapStateToProps)(UserListComp)\n\nexport default UserListComp\n\n\n// WEBPACK FOOTER //\n// ./src/User/ListComp.js","import _ from 'lodash';\nlet initState = {\n\tlist: [],\n\tfetch_status: null,\n\tfetch_error: null,\n};\nconst userList = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase 'USER_LIST_SEND':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'send',\n\t\t\t\tlist: [...state.list],\n\t\t\t};\n\t\tcase 'USER_LIST_SUCCESS':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'success',\n\t\t\t\tlist: [...action.data],\n\t\t\t};\n\t\tcase 'USER_LIST_ERROR':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'error',\n\t\t\t\tfetch_error: action.error,\n\t\t\t\tlist: [],\n\t\t\t};\n\t\t\n\t\tcase 'FRIEND_UPDATE_SEND':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'send_friend',\n\t\t\t\tlist: [...state.list],\n\t\t\t};\n\t\tcase 'FRIEND_UPDATE_SUCCESS':\n\t\t\tlet frList = [...state.list];\n\n\t\t\tif (action.data && action.data._id) {\n\t\t\t\tlet fr = _.find(frList, (val) => {\n\t\t\t\t\treturn val._id === action.data._id;\n\t\t\t\t});\n\t\t\t\tfr.friend = action.data.friend;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tfetch_status: 'success_friend',\n\t\t\t\tlist: frList,\n\t\t\t};\n\t\tcase 'FRIEND_UPDATE_ERROR':\n\t\t\treturn {\n\t\t\t\tfetch_status: 'error_friend',\n\t\t\t\tfetch_error: action.error,\n\t\t\t\tlist: [],\n\t\t\t};\n\t\t\n\t\t\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport default userList\n\n\n// WEBPACK FOOTER //\n// ./src/User/ListRed.js"],"sourceRoot":""}